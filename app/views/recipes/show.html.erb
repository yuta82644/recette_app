
<%= render 'shared/sidebar' %>
<div class="footer_fixed">
  <div class="page wrapper">
    <h1 class="page_name">レシピ詳細</h1>
  </div>
  <div class="recipe_show wrapper">
    <div class="recipe_container">
      <div class="image_area">
  <% @recipe.categories.each do |category| %>
    <p class="category_text"><%= category.name %></p>
  <% end %>
        <% if @recipe.image.present? %>
          <div class="image_box">
            <%= image_tag @recipe.image.url, class: "recipe-img" %>
          </div>
        <% else %>
          <%= image_tag '/images/noimage-1-760x460.png', class: "recipe-img" %>
        <% end %>
        <p class="short_comment"><%= @recipe.short_comment %></p>
      </div>
      <div class="recipe_text_area">
      <div class="recipe_title">
        <h3><%= @recipe.title %></h3>
        <p><%= @recipe.tortal_quantity%></p>
      </div>
       


 
  
        <h4>材料</h4>
        <% @recipe.cooking_ingredients.each do |ingredient| %>
        <div class="ingredient_area">
          <div class="ingredient_text">
            
        <dl>
           
            <dt> <%= ingredient.ingredient_name %></dt>
        
        
           <dd> <%= ingredient.quantity %> <%= ingredient.unit %></dd>
            
        </dl>
          </div>
      </div>
        <% end %>
      </div>
    </div>
    <div class="procedure_container">

    <div class="procedure_area">

    <h2>手順</h2>
    <% @recipe.procedures.each do |step| %>
      <div class="procedure_text">
        <%= step.procedure_comment %>
      </div>
    <% end %>
    </div>
    <%# <% unless @recipe.user_id == current_user.id %>
      <% if @favorite.present? %>
        <%= link_to 'お気に入り解除する', favorite_path(id: @favorite.id), method: :delete, class: 'btn btn-danger' %>
      <% else %>
        <%= link_to 'お気に入りする', favorites_path(recipe: @recipe.id), method: :post, class: 'btn btn-primary' %>
      <% end %>
    <%# <% end %>
    </div>

    <!-- コメント一覧を表示するための部分 -->
    <p>コメント一覧</p>
    <div id="comments_area">
      <%= render partial: 'comments/index', locals: { comments: @comments, recipe: @recipe } %>
    </div>

    <!-- コメント入力欄を表示するための部分 -->
    <%= render partial: 'comments/form', locals: { comment: @comment, recipe: @recipe } %>

    <%= link_to "一覧に戻る", recipes_path, class: "btn btn-secondary" %>

    <%= link_to "一覧に戻る", recipes_path, class: "btn btn-secondary" %>
  </div>
</div>
